# Loaner Command Center â€“ Cloudflare Worker (Dealerware + OBD webhooks)
# Deploy: npx wrangler deploy
# Set secrets: wrangler secret put DEALERWARE_SECRET (and SUPABASE_URL, SUPABASE_KEY via vars or secrets)

name = "loaner-system-worker"
main = "webhook.js"
compatibility_date = "2024-01-01"

[env.production]
preview_urls = true
workers_dev = true
# Set secrets before deploy: wrangler secret put SUPABASE_URL (then SUPABASE_KEY, DEALERWARE_SECRET)
# For local dev: create .dev.vars with SUPABASE_URL, SUPABASE_KEY, DEALERWARE_SECRET

[[env.production.routes]]
pattern = "api.lazralabs.ai/webhooks/*"
zone_name = "lazralabs.ai"
